@import "../../node_modules/@govbr-ds/core/src/partial/scss/mixins";

/* OS contrast theme preference */
@media only screen {

	.is-contrast-mode.is-contrast-mode {
		// Dark background should be really dark
		--background-contrast: #000;
		--text-contrast: #fff;
		--interactive-contrast: rgb(0, 247, 255);
		--interactive-contrast--focus: rgb(255, 145, 0);
		--interactive-contrast--hover: rgb(251, 255, 0);
		--interactive-contrast--active: rgb(21, 255, 0);
		--interactive-contrast--visited: rgb(255, 0, 234);

		*,
		*::placeholder,
		*.has-background,
		*.has-text-color {
			background-color: var(--background-contrast, #000) !important;
			color: var(--text-contrast, #fff) !important;
			fill: var(--text-contrast, #fff) !important;
		}

		a,
		a.has-link-color {
			color: var(--interactive-contrast, rgb(0, 247, 255)) !important;

			> * {
				color: inherit !important;
			}

			&:active {
				color: var(--interactive-contrast--active, rgb(21, 255, 0)) !important;
			}

			&:hover {
				color: var(--interactive-contrast--hover, rgb(251, 255, 0)) !important;
			}

			&:visited {
				color: var(--interactive-contrast--visited, rgb(255, 0, 234)) !important;
			}
		}

		button,
		.wp-block-button,
		input,
		textarea,
		select {
			box-shadow: 0 0 0 3px var(--interactive-contrast, rgb(0, 247, 255)) !important;

			&:focus {
				box-shadow: 0 0 0 3px var(--interactive-contrast--focus, rgb(255, 145, 0)) !important;
			}

			&:hover {
				box-shadow: 0 0 0 3px var(--interactive-contrast--hover, rgb(251, 255, 0)) !important;
			}

			&:active {
				box-shadow: 0 0 0 3px var(--interactive-contrast--active, rgb(21, 255, 0)) !important;
			}
		}
	}

	.is-contrast-mode img {
		filter: brightness(.85) contrast(1.1);
	}
}
